<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Licitaci√≥n: Gesti√≥n de Proyectos</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <!-- Header / HUD -->
        <header class="game-hud hidden" id="game-hud">
            <div class="hud-item">
                <span class="label">Candidato</span>
                <span class="value" id="hud-player-name">Jugador 1</span>
            </div>
            <div class="hud-item">
                <span class="label">Ronda</span>
                <span class="value" id="hud-round">1/3</span>
            </div>
            <div class="hud-item">
                <span class="label">Puntaje Ronda</span>
                <span class="value" id="hud-score">0</span>
            </div>
        </header>
        <!-- SCREEN: START -->
        <section id="screen-start" class="screen active">
            <div class="content-box glass">
                <h1 class="title-gradient">La Licitaci√≥n</h1>
                <h2 class="subtitle">Gesti√≥n de Proyectos</h2>
                <p class="intro-text">
                    Tres candidatos compiten por el puesto de Gerente.
                    <br><br>
                    La entrevista consta de 3 Rondas T√©cnicas. Solo el mejor estratega financiero se quedar√° con el puesto.
                </p>
                <button class="btn-primary" id="btn-goto-register">Iniciar Proceso</button>
            </div>
        </section>
        <!-- SCREEN: REGISTER -->
        <section id="screen-register" class="screen hidden">
            <div class="content-box glass">
                <h3>Registro de Candidatos</h3>
                <p>Selecciona la cantidad de jugadores y registra sus nombres.</p>
                
                <div class="input-group">
                    <label>¬øCu√°ntos candidatos participar√°n?</label>
                    <select id="player-count-select">
                        <option value="2">2 Jugadores</option>
                        <option value="3" selected>3 Jugadores</option>
                        <option value="4">4 Jugadores</option>
                        <option value="5">5 Jugadores</option>
                        <option value="6">6 Jugadores</option>
                    </select>
                </div>
                <div id="player-names-container">
                    <!-- Name inputs will be generated dynamically by JS -->
                </div>
                <button class="btn-primary" id="btn-start-game">Comenzar Licitaci√≥n</button>
            </div>
        </section>
        <!-- SCREEN: TRANSITION (Pass Device) -->
        <section id="screen-transition" class="screen hidden">
            <div class="content-box glass transition-box">
                <h2>¬°Tiempo!</h2>
                <p>Es el turno de:</p>
                <h1 class="player-turn-name" id="trans-next-player">Nombre</h1>
                <p class="instruction">P√°sale el dispositivo.</p>
                <button class="btn-primary" id="btn-start-turn">Estoy Listo</button>
            </div>
        </section>
        <!-- SCREEN: LEVEL 1 (Clasificaci√≥n) -->
        <section id="screen-level-1" class="screen hidden">
            <div class="level-header">
                <h3>Ronda 1: El Filtro Inicial</h3>
                <p>Clasifica los rubros del proyecto: <strong id="l1-project-type">Restaurante</strong></p>
            </div>
            
            <div class="game-area-l1">
                <div class="item-spawner" id="item-spawner"></div>
                <div class="drop-zones">
                    <div class="drop-zone" data-type="ingreso">
                        <div class="zone-icon">üí∞</div>
                        <h4>Ingresos</h4>
                    </div>
                    <div class="drop-zone" data-type="gasto">
                        <div class="zone-icon">üìâ</div>
                        <h4>Gastos</h4>
                    </div>
                    <div class="drop-zone" data-type="inversion">
                        <div class="zone-icon">üèóÔ∏è</div>
                        <h4>Inversi√≥n</h4>
                    </div>
                </div>
            </div>
        </section>
        <!-- SCREEN: LEVEL 2 (Punto de Equilibrio) -->
        <section id="screen-level-2" class="screen hidden">
            <div class="level-header">
                <h3>Ronda 2: Prueba T√©cnica</h3>
                <p>Calcula el Punto de Equilibrio para evitar la quiebra.</p>
            </div>
            <div class="content-box glass">
                <div class="data-grid">
                    <div class="data-card">
                        <span class="data-label">Costos Fijos (CF)</span>
                        <span class="data-value" id="l2-cf">$0</span>
                    </div>
                    <div class="data-card">
                        <span class="data-label">Precio Venta (PV)</span>
                        <span class="data-value" id="l2-pv">$0</span>
                    </div>
                    <div class="data-card">
                        <span class="data-label">Costo Variable (Cv)</span>
                        <span class="data-value" id="l2-cv">$0</span>
                    </div>
                </div>
                <div class="formula-hint">Q = CF / (PV - Cv)</div>
                <div class="input-group">
                    <label>Unidades a vender (Q):</label>
                    <input type="number" id="l2-input" placeholder="Ej: 1000">
                </div>
                <button class="btn-primary" id="btn-check-l2">Calcular</button>
            </div>
        </section>
        <!-- SCREEN: LEVEL 3 (VPN/TIR) -->
        <section id="screen-level-3" class="screen hidden">
            <div class="level-header">
                <h3>Ronda 3: Entrevista Final</h3>
                <p>Eval√∫a la rentabilidad del proyecto.</p>
            </div>
            <div class="content-box glass">
                <div class="report-card">
                    <h4>Reporte Financiero</h4>
                    <div class="report-item">
                        <span>Tasa de Oportunidad:</span>
                        <span class="highlight" id="l3-tasa">0%</span>
                    </div>
                    <div class="report-item">
                        <span>VPN Calculado:</span>
                        <span class="highlight" id="l3-vpn">$0</span>
                    </div>
                    <div class="report-item">
                        <span>TIR Calculada:</span>
                        <span class="highlight" id="l3-tir">0%</span>
                    </div>
                </div>
                <p class="decision-prompt">¬øCu√°l es tu decisi√≥n?</p>
                <div class="decision-buttons">
                    <button class="btn-success" id="btn-success-project">PROYECTO EXITOSO</button>
                    <button class="btn-danger" id="btn-fail-project">PROYECTO FRACASADO</button>
                </div>
            </div>
        </section>
        <!-- SCREEN: ROUND SUMMARY -->
        <section id="screen-round-summary" class="screen hidden">
            <div class="content-box glass">
                <h2 id="summary-title">Resultados Ronda X</h2>
                
                <table class="leaderboard-table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Candidato</th>
                            <th>Puntaje Ronda</th>
                            <th>Total</th>
                        </tr>
                    </thead>
                    <tbody id="summary-body">
                        <!-- Rows generated by JS -->
                    </tbody>
                </table>
                <button class="btn-primary" id="btn-next-round">Siguiente Ronda</button>
            </div>
        </section>
        <!-- SCREEN: FINAL VICTORY -->
        <section id="screen-victory" class="screen hidden">
            <div class="content-box glass success-border">
                <h1>¬°Contratado!</h1>
                <p>El nuevo Gerente de Proyectos es:</p>
                <h1 class="winner-name" id="winner-name">Nombre</h1>
                <div class="final-score">
                    <span>Puntaje Total:</span>
                    <span id="winner-score">0</span>
                </div>
                <button class="btn-primary" onclick="location.reload()">Nueva Licitaci√≥n</button>
            </div>
        </section>
        <!-- MODAL FEEDBACK -->
        <div id="feedback-modal" class="modal hidden">
            <div class="modal-content glass">
                <h3 id="feedback-title">T√≠tulo</h3>
                <p id="feedback-msg">Mensaje</p>
                <button class="btn-secondary" id="btn-close-feedback">Continuar</button>
            </div>
        </div>
    </div>
    <script src="game.js"></script>
</body>
</html>
